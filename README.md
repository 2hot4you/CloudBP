# äº‘æœåŠ¡å™¨é”€å”®å¹³å° (CloudBP)

> ğŸš€ ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å¤šå‚å•†äº‘æœåŠ¡å™¨é”€å”®å¹³å°ï¼Œæ”¯æŒç”¨æˆ·ç®¡ç†ã€äº§å“é”€å”®ã€è®¢å•å¤„ç†å’ŒæœåŠ¡å™¨ç®¡ç†ç­‰æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ã€‚

[![Go Version](https://img.shields.io/badge/Go-1.21+-blue.svg)](https://golang.org)
[![Vue Version](https://img.shields.io/badge/Vue-3.3+-green.svg)](https://vuejs.org)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## âœ¨ é¡¹ç›®ç‰¹è‰²

- ğŸ—ï¸ **å¾®æœåŠ¡æ¶æ„** - å‰åç«¯åˆ†ç¦»ï¼Œæ¨¡å—åŒ–è®¾è®¡
- ğŸ” **å®Œæ•´è®¤è¯ç³»ç»Ÿ** - JWTè®¤è¯ï¼Œå¯†ç åŠ å¯†ï¼Œæƒé™æ§åˆ¶  
- ğŸŒ **å¤šå‚å•†æ”¯æŒ** - æŠ½è±¡äº‘å‚å•†æ¥å£ï¼Œæ”¯æŒè…¾è®¯äº‘ã€é˜¿é‡Œäº‘ç­‰
- ğŸ“Š **å®æ—¶ç›‘æ§** - æœåŠ¡å™¨çŠ¶æ€ç›‘æ§ï¼Œèµ„æºä½¿ç”¨ç»Ÿè®¡
- ğŸ’° **è®¢å•ç®¡ç†** - å®Œæ•´çš„è´­ä¹°æµç¨‹ï¼Œæ”¯ä»˜ç³»ç»Ÿï¼Œä½™é¢ç®¡ç†
- ğŸ›¡ï¸ **å®‰å…¨å¯é ** - æ•°æ®åŠ å¯†ï¼ŒSQLæ³¨å…¥é˜²æŠ¤ï¼ŒXSSé˜²æŠ¤

## ğŸ›ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Go 1.21 - é«˜æ€§èƒ½å¹¶å‘å¤„ç†
- **æ¡†æ¶**: Gin - è½»é‡çº§Webæ¡†æ¶
- **æ•°æ®åº“**: PostgreSQL 15 - å…³ç³»å‹æ•°æ®åº“
- **ç¼“å­˜**: Redis 7.0 - é«˜æ€§èƒ½ç¼“å­˜
- **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ 3.12 - å¼‚æ­¥ä»»åŠ¡å¤„ç†
- **ORM**: GORM - å¼ºå¤§çš„Go ORM
- **è®¤è¯**: JWT - æ— çŠ¶æ€èº«ä»½éªŒè¯
- **é…ç½®**: Viper - çµæ´»çš„é…ç½®ç®¡ç†
- **æ—¥å¿—**: Zap - ç»“æ„åŒ–é«˜æ€§èƒ½æ—¥å¿—

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue 3.3 + TypeScript - ç°ä»£å‰ç«¯æ¡†æ¶
- **UIç»„ä»¶**: TDesign Vue Next - ä¼ä¸šçº§è®¾è®¡è¯­è¨€
- **çŠ¶æ€ç®¡ç†**: Pinia - Vue 3å®˜æ–¹æ¨è
- **è·¯ç”±**: Vue Router 4 - å•é¡µåº”ç”¨è·¯ç”±
- **HTTP**: Axios - Promiseé£æ ¼HTTPå®¢æˆ·ç«¯
- **æ„å»º**: Vite - æé€Ÿå‰ç«¯æ„å»ºå·¥å…·

## ğŸ“ é¡¹ç›®ç»“æ„

```
cloudbp/
â”œâ”€â”€ backend/                    # Goåç«¯æœåŠ¡
â”‚   â”œâ”€â”€ cmd/
â”‚   â”‚   â”œâ”€â”€ api/               # APIæœåŠ¡å…¥å£
â”‚   â”‚   â””â”€â”€ migrate/           # æ•°æ®åº“è¿ç§»å·¥å…·
â”‚   â”œâ”€â”€ internal/              # å†…éƒ¨åŒ…
â”‚   â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ handler/           # HTTPå¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.go        # è®¤è¯å¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ server.go      # æœåŠ¡å™¨ç®¡ç†å¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.go       # ç®¡ç†å‘˜å¤„ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ routes.go      # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ model/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ user.go        # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ server.go      # æœåŠ¡å™¨æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ order.go       # è®¢å•æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ provider.go    # å‚å•†æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ system.go      # ç³»ç»Ÿæ¨¡å‹
â”‚   â”‚   â””â”€â”€ service/           # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚       â”œâ”€â”€ user.go        # ç”¨æˆ·æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ server.go      # æœåŠ¡å™¨æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ provider.go    # å‚å•†æœåŠ¡
â”‚   â”‚       â””â”€â”€ admin.go       # ç®¡ç†å‘˜æœåŠ¡
â”‚   â”œâ”€â”€ pkg/                   # å…¬å…±åŒ…
â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt.go         # JWTç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ password.go    # å¯†ç å·¥å…·
â”‚   â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ database.go    # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ migration.go   # è¿ç§»ç®¡ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ init_data.go   # ç§å­æ•°æ®
â”‚   â”‚   â”œâ”€â”€ provider/          # äº‘å‚å•†é›†æˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ interface.go   # å‚å•†æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ tencent.go     # è…¾è®¯äº‘é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ cache/             # ç¼“å­˜
â”‚   â”‚   â”œâ”€â”€ logger/            # æ—¥å¿—
â”‚   â”‚   â””â”€â”€ queue/             # æ¶ˆæ¯é˜Ÿåˆ—
â”‚   â”œâ”€â”€ migrations/            # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ 001_create_tables.sql  # å»ºè¡¨SQL
â”‚   â”‚   â””â”€â”€ 002_seed_data.sql      # ç§å­æ•°æ®
â”‚   â””â”€â”€ config.yaml            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ frontend/                  # Vueå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/             # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # è®¤è¯é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ user/          # ç”¨æˆ·é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ admin/         # ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ router/            # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ stores/            # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api/               # APIæ¥å£
â”‚   â”‚   â””â”€â”€ types/             # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ nginx/                     # åå‘ä»£ç†é…ç½®
â”‚   â”œâ”€â”€ nginx.conf             # Nginxé…ç½®
â”‚   â””â”€â”€ generate-ssl.sh        # SSLè¯ä¹¦ç”Ÿæˆ
â”œâ”€â”€ scripts/                   # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ start.sh               # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ stop.sh                # åœæ­¢è„šæœ¬
â”œâ”€â”€ docker-compose.yml         # Dockerç¼–æ’
â””â”€â”€ README.md                  # é¡¹ç›®æ–‡æ¡£
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### ğŸ” ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [x] ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- [x] JWT Tokenç”Ÿæˆã€éªŒè¯ã€åˆ·æ–°
- [x] å¯†ç åŠ å¯†å­˜å‚¨ (bcrypt)
- [x] ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- [x] æƒé™ä¸­é—´ä»¶ (ç”¨æˆ·/ç®¡ç†å‘˜)

#### ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç†
- [x] äº§å“åˆ—è¡¨æŸ¥è¯¢
- [x] æœåŠ¡å™¨è´­ä¹°æµç¨‹
- [x] ç”¨æˆ·æœåŠ¡å™¨åˆ—è¡¨
- [x] æœåŠ¡å™¨è¯¦æƒ…æŸ¥çœ‹
- [x] æœåŠ¡å™¨æ“ä½œ (å¯åŠ¨/åœæ­¢/é‡å¯)

#### ğŸ¢ å¤šå‚å•†æ”¯æŒ  
- [x] æŠ½è±¡äº‘å‚å•†æ¥å£è®¾è®¡
- [x] è…¾è®¯äº‘Lighthouseé€‚é…å™¨
- [x] å‚å•†é…ç½®ç®¡ç†
- [x] äº§å“ä¿¡æ¯åŒæ­¥

#### ğŸ’° è®¢å•ç³»ç»Ÿ
- [x] è®¢å•åˆ›å»ºå’Œç®¡ç†
- [x] æ”¯ä»˜æµç¨‹ (ä½™é¢æ”¯ä»˜)
- [x] è®¢å•çŠ¶æ€è·Ÿè¸ª
- [x] æ”¯ä»˜è®°å½•

#### ğŸ‘¥ ç®¡ç†åå°
- [x] ä»ªè¡¨æ¿ç»Ÿè®¡æ•°æ®
- [x] ç”¨æˆ·ç®¡ç†
- [x] è®¢å•ç®¡ç†  
- [x] äº§å“ç®¡ç†

#### ğŸ—„ï¸ æ•°æ®ç®¡ç†
- [x] æ•°æ®åº“è‡ªåŠ¨è¿ç§»
- [x] ç§å­æ•°æ®åˆå§‹åŒ–
- [x] è¿ç§»ç‰ˆæœ¬æ§åˆ¶
- [x] æ•°æ®å¤‡ä»½æ¢å¤

### ğŸš§ è§„åˆ’ä¸­åŠŸèƒ½

#### ğŸ’³ æ”¯ä»˜ç³»ç»Ÿå¢å¼º
- [ ] å¾®ä¿¡æ”¯ä»˜é›†æˆ
- [ ] æ”¯ä»˜å®æ”¯ä»˜é›†æˆ
- [ ] é“¶è¡Œå¡æ”¯ä»˜
- [ ] ä¼˜æƒ åˆ¸ç³»ç»Ÿ

#### ğŸ“Š ç›‘æ§ç³»ç»Ÿ
- [ ] å®æ—¶æ€§èƒ½ç›‘æ§
- [ ] èµ„æºä½¿ç”¨ç»Ÿè®¡
- [ ] å‘Šè­¦é€šçŸ¥
- [ ] æ—¥å¿—åˆ†æ

#### ğŸŒ æ›´å¤šäº‘å‚å•†
- [ ] é˜¿é‡Œäº‘ECSé›†æˆ
- [ ] AWS EC2é›†æˆ
- [ ] åä¸ºäº‘é›†æˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- ğŸ³ Docker & Docker Compose
- ğŸ¹ Go 1.21+ (å¼€å‘ç¯å¢ƒ)
- ğŸ“¦ Node.js 18+ (å¼€å‘ç¯å¢ƒ)

### ä¸€é”®å¯åŠ¨
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/2hot4you/CloudBP.git
cd CloudBP

# å¯åŠ¨æ‰€æœ‰æœåŠ¡ (æ•°æ®åº“ã€Redisã€åç«¯ã€å‰ç«¯)
./scripts/start.sh

# åœæ­¢æ‰€æœ‰æœåŠ¡
./scripts/stop.sh
```

### åˆ†æ­¥å¯åŠ¨

#### 1ï¸âƒ£ å¯åŠ¨åŸºç¡€æœåŠ¡
```bash
docker compose up -d postgres redis rabbitmq
```

#### 2ï¸âƒ£ å¯åŠ¨åç«¯
```bash
cd backend
go mod tidy
go run cmd/api/main.go
```

#### 3ï¸âƒ£ å¯åŠ¨å‰ç«¯
```bash
cd frontend
npm install
npm run dev
```

## ğŸŒ æœåŠ¡åœ°å€

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| ğŸ–¥ï¸ å‰ç«¯åº”ç”¨ | http://localhost:3000 | Vueå‰ç«¯ç•Œé¢ |
| ğŸ”Œ åç«¯API | http://localhost:8081 | RESTful API |
| ğŸ“š APIæ–‡æ¡£ | http://localhost:8081/swagger/index.html | Swaggeræ–‡æ¡£ |
| â¤ï¸ å¥åº·æ£€æŸ¥ | http://localhost:8081/health | æœåŠ¡çŠ¶æ€ |
| ğŸ° RabbitMQ | http://localhost:15672 | æ¶ˆæ¯é˜Ÿåˆ—ç®¡ç† |
| ğŸ—„ï¸ PostgreSQL | localhost:5434 | æ•°æ®åº“è¿æ¥ |
| ğŸ“¦ Redis | localhost:6381 | ç¼“å­˜è¿æ¥ |

## ğŸ§ª APIæµ‹è¯•

### ç”¨æˆ·æ³¨å†Œ
```bash
curl -X POST http://localhost:8081/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com", 
    "password": "Test123456",
    "real_name": "æµ‹è¯•ç”¨æˆ·"
  }'
```

### ç”¨æˆ·ç™»å½•
```bash
curl -X POST http://localhost:8081/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "Test123456"
  }'
```

### è·å–äº§å“åˆ—è¡¨
```bash
# éœ€è¦å…ˆç™»å½•è·å–token
curl -X GET http://localhost:8081/api/v1/server/products \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

## âš™ï¸ é…ç½®è¯´æ˜

ä¸»è¦é…ç½®åœ¨ `backend/config.yaml`:

```yaml
server:
  port: "8081"              # æœåŠ¡ç«¯å£
  mode: "debug"             # è¿è¡Œæ¨¡å¼

database:
  host: "localhost"         # æ•°æ®åº“åœ°å€
  port: "5434"             # æ•°æ®åº“ç«¯å£  
  user: "cloudbp"          # æ•°æ®åº“ç”¨æˆ·
  password: "cloudbp123"    # æ•°æ®åº“å¯†ç 
  dbname: "cloudbp"        # æ•°æ®åº“å
  sslmode: "disable"       # SSLæ¨¡å¼

redis:
  host: "localhost"         # Redisåœ°å€
  port: "6381"             # Redisç«¯å£
  password: ""             # Rediså¯†ç 
  db: 0                    # Redisæ•°æ®åº“

jwt:
  secret: "your-secret-key-change-in-production"  # JWTå¯†é’¥
  expire_time: 86400       # Tokenè¿‡æœŸæ—¶é—´(ç§’)

log:
  level: "info"            # æ—¥å¿—çº§åˆ«
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ•°æ®åº“è¿ç§»
```bash
# æŸ¥çœ‹è¿ç§»çŠ¶æ€
go run cmd/migrate/main.go -action=status

# æ‰§è¡Œè¿ç§»
go run cmd/migrate/main.go -action=up

# åˆ›å»ºæ–°è¿ç§»
go run cmd/migrate/main.go -action=create -name=add_new_table
```

### æ·»åŠ æ–°çš„äº‘å‚å•†
1. åœ¨ `backend/pkg/provider/` åˆ›å»ºæ–°çš„é€‚é…å™¨æ–‡ä»¶
2. å®ç° `CloudProvider` æ¥å£çš„æ‰€æœ‰æ–¹æ³•
3. åœ¨ `provider.go` ä¸­æ³¨å†Œæ–°å‚å•†
4. åœ¨æ•°æ®åº“ä¸­æ·»åŠ å‚å•†é…ç½®

### æ·»åŠ æ–°çš„APIæ¥å£
1. åœ¨å¯¹åº”çš„handleræ–‡ä»¶ä¸­æ·»åŠ å¤„ç†å‡½æ•°
2. æ·»åŠ Swaggeræ³¨é‡Š
3. åœ¨ `routes.go` ä¸­æ³¨å†Œè·¯ç”±
4. ç¼–å†™å¯¹åº”çš„serviceå±‚é€»è¾‘

## ğŸ³ Dockeréƒ¨ç½²

### å®Œæ•´éƒ¨ç½²
```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up --build -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose ps

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# åœæ­¢æœåŠ¡
docker compose down

# å®Œå…¨æ¸…ç†(åŒ…æ‹¬æ•°æ®)
docker compose down -v
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®
1. ğŸ” ä¿®æ”¹é»˜è®¤å¯†ç å’ŒJWTå¯†é’¥
2. ğŸ›¡ï¸ é…ç½®æ­£å¼SSLè¯ä¹¦
3. ğŸŒ è®¾ç½®ç¯å¢ƒå˜é‡
4. ğŸ“Š é…ç½®ç›‘æ§å’Œæ—¥å¿—
5. ğŸ’¾ å®šæœŸæ•°æ®åº“å¤‡ä»½

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **ä»£ç è¡Œæ•°**: 7,800+ è¡Œ
- **æ–‡ä»¶æ•°é‡**: 33+ ä¸ªæ–‡ä»¶
- **APIæ¥å£**: 15+ ä¸ªæ¥å£
- **æ•°æ®è¡¨**: 9å¼ æ ¸å¿ƒè¡¨
- **æ”¯æŒå‚å•†**: è…¾è®¯äº‘ (æ›´å¤šå‚å•†å¼€å‘ä¸­)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. ğŸ´ Fork é¡¹ç›®
2. ğŸŒ¿ åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. ğŸ“ æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. ğŸ“¤ æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. ğŸ”€ åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [Gin](https://gin-gonic.com/) - Go Webæ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼JavaScriptæ¡†æ¶  
- [TDesign](https://tdesign.tencent.com/) - ä¼ä¸šçº§è®¾è®¡è¯­è¨€
- [GORM](https://gorm.io/) - Go ORMåº“
- [PostgreSQL](https://www.postgresql.org/) - å¼€æºå…³ç³»æ•°æ®åº“

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ˜Ÿï¼

ğŸ“§ æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿæ¬¢è¿æäº¤ [Issue](https://github.com/2hot4you/CloudBP/issues)